<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="https://selaianwary.github.io/feed.xml" rel="self" type="application/atom+xml" /><link href="https://selaianwary.github.io/" rel="alternate" type="text/html" /><updated>2022-04-06T18:18:54+00:00</updated><id>https://selaianwary.github.io/feed.xml</id><title type="html">Full-Stack Java Development</title><entry><title type="html">How to Publish Markdowns to Medium</title><link href="https://selaianwary.github.io/guide/medium/2022/04/04/publish-markdowns-to-medium.html" rel="alternate" type="text/html" title="How to Publish Markdowns to Medium" /><published>2022-04-04T13:00:00+00:00</published><updated>2022-04-04T13:00:00+00:00</updated><id>https://selaianwary.github.io/guide/medium/2022/04/04/publish-markdowns-to-medium</id><content type="html" xml:base="https://selaianwary.github.io/guide/medium/2022/04/04/publish-markdowns-to-medium.html">&lt;h1 id=&quot;guide---using-plain-text-git-and-automation-to-publish-medium-stories&quot;&gt;Guide - Using Plain Text, Git and Automation to Publish Medium Stories&lt;/h1&gt;
&lt;p&gt;Dear reader, welcome to my first guide. Recently I started looking for a new way of learning. That’s how I ended up at Medium, but now as a writer. In the past I have often used the platform as a reference book for learning. I’ve decided to take it to another level and challenge myself as a writer, as I hope to contribute to the community by writing and to also learn more about the topics covered.&lt;/p&gt;

&lt;p&gt;At least I can say that I am a fan. Unfortunately, Medium doesn’t offer any options to write in Markdown, let alone automate publishing from a Git repository. So in this guide I will explain what I think is the best option for publishing plaintext Markdown as stories to Medium and guide you through it.&lt;/p&gt;

&lt;h2 id=&quot;why-do-i-want-this&quot;&gt;Why Do I Want This?&lt;/h2&gt;
&lt;p&gt;My inspiration for this is an extension of the documentation as code (docs-as-code) approach, which refers to the idea that you should be writing documentation with the same tools as code - if you are a developer who is writing technical documentation.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Markdown&lt;/strong&gt; is a lightweight markup language that you can use to add formatting elements to plaintext documents. It gets rid of all distractions of formatting that traditional text editors have (&lt;em&gt;e.g.&lt;/em&gt; Microsoft Word). It allows you to format your writing without taking your fingers off the keyboard. As such, your writing experience becomes seamless without losing focus on what’s important (&lt;em&gt;i.e.&lt;/em&gt; content). And a big plus; since it’s plaintext it’s also platform independent.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Git&lt;/strong&gt; is a version control system that is used by developers all over the world. It will help to track different versions of Markdowns, and to review texts with diffs and comments and collaborate with other writers. And, most of the technical documentation that can be found on &lt;a href=&quot;https://medium.com/r/?url=https%3A%2F%2Fgithub.com&quot;&gt;GitHub&lt;/a&gt; is already written in Markdown – there are plenty of examples.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Automation&lt;/strong&gt; is important, because writing in Markdown alone and using some copy paste solution will not suffice. We need a way of importing Markdown texts into Medium stories as seamless as writing the Markdowns and pushing them to a Git repository. Therefore, publishing a story to Medium should be a part of this process. Because a good developer is a lazy developer! That is, most developers hate doing repetitive tasks and one way to avoid this is by introducing automation.&lt;/p&gt;

&lt;h3 id=&quot;the-general-idea&quot;&gt;The General Idea&lt;/h3&gt;
&lt;p&gt;We will be using &lt;a href=&quot;https://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt; with &lt;a href=&quot;https://jekyllrb.com&quot;&gt;Jekyll&lt;/a&gt; in this guide. This allows us to transform plain text into static websites and blogs. GitHub Pages is powered by Jekyll, so we can easily deploy our site using GitHub for free - we can even use a &lt;a href=&quot;https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages&quot;&gt;custom domain name&lt;/a&gt;. As for automation, we will use the &lt;a href=&quot;https://github.com/aarongustafson/jekyll-crosspost-to-medium&quot;&gt;jekyll-crosspost-to-medium&lt;/a&gt; plugin to automatically syndicate our posts to Medium from our Jekyll blog. We will combine this with &lt;a href=&quot;https://docs.github.com/en/actions&quot;&gt;GitHub Actions&lt;/a&gt; to automate the process after a merge to the main branch for the GitHub Page.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/general_idea.png&quot; alt=&quot;general_idea&quot; /&gt;&lt;/p&gt;

&lt;p&gt;So the general idea is to write stories in Visual Studio Code, push changes to the GitHub repository and trigger a publish on GitHub Pages and Medium - preferably after a merge.&lt;/p&gt;

&lt;h2 id=&quot;prerequisites&quot;&gt;Prerequisites&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;You’re familiar with version control systems such as Git, or &lt;a href=&quot;https://git-scm.com&quot;&gt;start learning&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;You’ve created an account on GitHub, or &lt;a href=&quot;https://github.com&quot;&gt;sign up&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;You know how to write in Markdown, or &lt;a href=&quot;https://www.markdownguide.org/getting-started/&quot;&gt;start learning&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;You’ve installed a text editor, or download &lt;a href=&quot;https://code.visualstudio.com&quot;&gt;Visual Studio Code&lt;/a&gt;.&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;lets-get-started&quot;&gt;Let’s Get Started!&lt;/h2&gt;

&lt;h3 id=&quot;1-setup-github-pages&quot;&gt;1. Setup GitHub Pages&lt;/h3&gt;
&lt;p&gt;This step is pretty easy and can be achieved by following the basic guide that &lt;a href=&quot;https://pages.github.com&quot;&gt;GitHub Pages&lt;/a&gt; offers. Just read everything carefully and do not deviate from the steps they explain in the guide. If you’ve done so successfully then the end result will be a skeleton website with an &lt;em&gt;index.html&lt;/em&gt; that shows “Hello World” on your personal page: &lt;strong&gt;https://username.github.io&lt;/strong&gt;.  We can ignore this &lt;em&gt;index.html&lt;/em&gt; file for now, because we will be writing in Markdown and not HTML. 
Open up a terminal (or command line) on your local machine and clone in your git repository and replace USERNAME with your own:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone https://github.com/USERNAME/USERNAME.github.io.git
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Open the newly created folder with:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;USERNAME.github.io
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;If you choose to publish your site from the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch, create and checkout the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch with:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git checkout - orphan gh-pages
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You could decide to use another source, you can read more about that &lt;a href=&quot;https://docs.github.com/en/pages/getting-started-with-github-pages/configuring-a-publishing-source-for-your-github-pages-site&quot;&gt;here&lt;/a&gt;. Inside the current directory you’ll see the &lt;em&gt;index.html&lt;/em&gt;, delete this with:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;rm&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-rf&lt;/span&gt; index.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now we’re ready to setup Jekyll - but, leave the terminal open with the current directory.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;&lt;strong&gt;N.B.&lt;/strong&gt; You can skip the &lt;a href=&quot;https://docs.github.com/en/pages/setting-up-a-github-pages-site-with-jekyll&quot;&gt;Blogging with Jekyll&lt;/a&gt; guide that GitHub Pages offers, since we will be using the (superior) installation guide that Jekyll offers in &lt;strong&gt;2. Jekyll Installation&lt;/strong&gt; instead. But, feel free to use the GitHub Pages guide as a reference if needed, of course!&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;2-jekyll-installation&quot;&gt;2. Jekyll Installation&lt;/h3&gt;
&lt;p&gt;Jekyll converts Markdown to HTML using the Markdown filter specified in a config file. You can read about the order of interpretation &lt;a href=&quot;https://jekyllrb.com/tutorials/orderofinterpretation/&quot;&gt;here&lt;/a&gt;. This step is a bit more tricky. But, Jekyll offers an in-depth &lt;a href=&quot;https://jekyllrb.com/docs/&quot;&gt;setup guide&lt;/a&gt; for each OS. So if you follow the guide correctly, then on MacOS you’ll end up installing:&lt;/p&gt;
&lt;ol&gt;
  &lt;li&gt;&lt;strong&gt;Ruby&lt;/strong&gt;, the programming language that is used to power Jekyll.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Bundler&lt;/strong&gt;, the Ruby gem which is used to manage the application’s gems for your project - somewhat similar to NPM; it uses files called &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile&lt;/code&gt; and &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile.lock&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;Jekyll&lt;/strong&gt;, the static site generator.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Before you proceed with the next step, make sure that your environment settings are configured correctly by running &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gem env&lt;/code&gt; in your terminal.&lt;/p&gt;

&lt;h3 id=&quot;3-setup-a-jekyll-site&quot;&gt;3. Setup a Jekyll Site&lt;/h3&gt;
&lt;p&gt;Now we’re ready to setup a Jekyll site. That can be achieved easily by running the following command in the terminal inside the &lt;em&gt;username.github.io&lt;/em&gt; directory:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;jekyll new &lt;span class=&quot;nt&quot;&gt;--skip-bundle&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After running this command all the necessary starter files and &lt;em&gt;_posts&lt;/em&gt; directory will be generated for you. Now, fire up &lt;strong&gt;Visual Studio Code (VS Code)&lt;/strong&gt; and import your &lt;em&gt;username.github.io&lt;/em&gt; folder. You’ll see the following directory structure in your explorer:
&lt;img src=&quot;/assets/images/vscode.png&quot; alt=&quot;vscode&quot; /&gt;&lt;/p&gt;

&lt;p&gt;As you can see in the image above, VS Code offers a preview mode for Markdown editing. By default, Markdown previews automatically update to show the currently active &lt;em&gt;.markdown&lt;/em&gt; file.&lt;/p&gt;

&lt;p&gt;If you’re using &lt;strong&gt;zsh&lt;/strong&gt;, it might be that you still need to adjust your gem path - if this error occurs: &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;zsh: command not found: jekyll&lt;/code&gt;. Try to add the following and replace the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;X.X&lt;/code&gt; with the first two numbers of the Ruby version you’re using:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;export &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;PATH&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$HOME&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;/.gem/ruby/X.X.0/bin:&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$PATH&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And then reinstall Bundler and Jekyll with:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;--user-install&lt;/span&gt; bundler jekyll
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;&lt;strong&gt;N.B.&lt;/strong&gt; If you’re using different versions of Ruby there is a tool called &lt;strong&gt;rbenv&lt;/strong&gt; which allows you to install and run different versions of Ruby side-by-side. This is also explained in the Jekyll documentation. So, this and your environment variables could be something to look out for while you’re troubleshooting.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id=&quot;4-configuring-your-site&quot;&gt;4. Configuring your Site&lt;/h3&gt;
&lt;p&gt;Open the &lt;em&gt;Gemfile&lt;/em&gt; that Jekyll created in VS Code and follow the steps below for a basic configuration:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Add “#” to the beginning of the line that starts with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gem &quot;jekyll&quot;&lt;/code&gt; to comment out this line - or delete it entirely if you’re certain you won’t need it.&lt;/li&gt;
  &lt;li&gt;Delete the “#” from the beginning of &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;# gem &quot;github-pages&quot;&lt;/code&gt; and change this line to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;gem &quot;github-pages&quot;, &quot;~&amp;gt; VERSION&quot;, group: :jekyll_plugins&lt;/code&gt;. Replace VERSION with the latest supported version of the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;github-pages&lt;/code&gt; gem. You can find this version &lt;a href=&quot;https://pages.github.com/versions/&quot;&gt;here&lt;/a&gt;. Save and close the &lt;em&gt;Gemfile&lt;/em&gt;.&lt;/li&gt;
  &lt;li&gt;From the terminal, run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt;. If this goes well, you’ll see an output in the terminal similar to this:
    &lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Bundle &lt;span class=&quot;nb&quot;&gt;complete&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt; 7 Gemfile dependencies, 101 gems now installed.
Use &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;bundle info &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;gemname]&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; to see where a bundled gem is installed.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;    &lt;/div&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;You can see that several &lt;em&gt;Gemfile&lt;/em&gt; dependencies were created, which are locked in by a file called &lt;em&gt;Gemfile.lock&lt;/em&gt; that was created at the root of your &lt;em&gt;username.github.io&lt;/em&gt; directory. This lock-file gets created when you run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt; for the first time. And so, when you have the same repository checked out and you run &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt; on a different machine, Bundler will find the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Gemfile.lock&lt;/code&gt; and skip the dependency resolution step. Instead, it will install all of the same gems that you used on the original machine (&lt;em&gt;i.e.&lt;/em&gt; we don’t have to guess which versions of the dependencies we should install).&lt;/p&gt;

&lt;p&gt;Now it’s time to test if everything works correctly! Run your Jekyll site locally with:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bundle &lt;span class=&quot;nb&quot;&gt;exec &lt;/span&gt;jekyll serve
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This will run your site on http://localhost:4000 by default, but you can change this by adding a different port in &lt;em&gt;your_config.yml&lt;/em&gt; file by just adding the following line:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;port: 4001
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;5-create-a-blog-post&quot;&gt;5. Create a Blog Post&lt;/h3&gt;
&lt;p&gt;When you run your site with &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle exec jekyll serve&lt;/code&gt; you’ll see “Posts” on the Home screen. Here, you can also find an example post called “Welcome to Jekyll!”. You can find this post and its details in the &lt;em&gt;_posts&lt;/em&gt; directory that Jekyll created for you at the root of your &lt;em&gt;username.github.io&lt;/em&gt; directory. Open up the file in VS Code. At the top of the file you’ll find what’s called the &lt;a href=&quot;https://jekyllrb.com/docs/front-matter/&quot;&gt;front matter&lt;/a&gt; of your post:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---
layout: post
title:  &quot;Welcome to Jekyll!&quot;
date:   2022-03-19 21:49:12 +0100
categories: jekyll update
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can see that for this post the front matter is used to categorize it into two categories. To understand what’s happening under the hood, we’ll have to take a look at the directory tree for the generated &lt;em&gt;_site&lt;/em&gt; folder:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
├── 404.html
├── about
│   └── index.html
├── assets
│   ├── main.css
│   └── minima-social-icons.svg
├── feed.xml
├── index.html
└── jekyll
    └── update
        └── 2022
            └── 03
                └── 19
                    └── welcome-to-jekyll-copy.html
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Categories of a post may be incorporated into &lt;a href=&quot;https://jekyllrb.com/docs/permalinks/&quot;&gt;the generated URL&lt;/a&gt; for the post. So if your front matter has &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;category: jekyll update&lt;/code&gt;, or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;categories: jekyll update&lt;/code&gt; the post would have the URL as either &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;../jekyll%20update/2022/03/19/..&lt;/code&gt; or &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;../jekyll/update/2022/03/19/..&lt;/code&gt; respectively - as you can see, this is represented in your directory tree. You can read more about Jekyll posts &lt;a href=&quot;https://jekyllrb.com/docs/posts/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For your site you can copy this &lt;em&gt;.markdown&lt;/em&gt; file and replace it’s content with your own. Make sure to adjust the filename and front matter according to your needs.&lt;/p&gt;

&lt;h3 id=&quot;6-install-the-jekyll-crosspost-plugin&quot;&gt;6. Install the Jekyll Crosspost Plugin&lt;/h3&gt;
&lt;p&gt;In this next step we’ll be installing the &lt;a href=&quot;https://github.com/aarongustafson/jekyll-crosspost-to-medium&quot;&gt;crosspost plugin&lt;/a&gt; that Aaron Gustafson created for Medium. Follow the steps explained in his setup. For a plugin installation guide it’s best to follow &lt;a href=&quot;https://jekyllrb.com/docs/plugins/installation/&quot;&gt;Jekyll’s installation guide&lt;/a&gt;, and add the plugin as a gem to your &lt;em&gt;Gemfile&lt;/em&gt;, like so:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&quot;language-lock&quot;&gt;# If you have any plugins, put them here!
group :jekyll_plugins do
  gem &quot;jekyll-feed&quot;, &quot;~&amp;gt; 0.12&quot;
  gem &quot;jekyll-crosspost-to-medium&quot;
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;And make sure that you update the &lt;em&gt;Gemfile.lock&lt;/em&gt; after by running:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bundle &lt;span class=&quot;nb&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Make sure you add the environment variables from the crosspost guide to your local machine as explained in the installation guide and in the &lt;a href=&quot;https://docs.github.com/en/actions/deployment/targeting-different-environments/using-environments-for-deployment#environment-secrets&quot;&gt;GitHub environment secrets&lt;/a&gt;. Like so: 
&lt;img src=&quot;/assets/images/repo-vars.png&quot; alt=&quot;env-vars&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;7-publishing-to-medium&quot;&gt;7. Publishing to Medium&lt;/h3&gt;
&lt;p&gt;Now we can add the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;$PLACEHOLDER&lt;/code&gt; value to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crosspost_to_medium&lt;/code&gt; in the front matter of our post so that we can crosspost to Medium:&lt;/p&gt;
&lt;div class=&quot;language-plaintext highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;---
layout: post
title:  &quot;Welcome to Jekyll!&quot;
date:   2022-03-19 21:49:12 +0100
categories: jekyll update
crosspost_to_medium: $PLACEHOLDER
---
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We will set it to a placeholder value, because we don’t want a publishing to be triggered by the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle exec jekyll serve&lt;/code&gt; command when we are testing the Jekyll site locally. This is going to be handled with &lt;a href=&quot;https://github.com/features/actions&quot;&gt;GitHub actions&lt;/a&gt; after a merged is made to the master. We will do this by adding a Jekyll workflow with specific actions in our repository. Again, the &lt;a href=&quot;https://jekyllrb.com/docs/continuous-integration/github-actions/&quot;&gt;Jekyll documentation&lt;/a&gt; for GitHub actions comes in handy, and we’ll use their &lt;em&gt;.yaml&lt;/em&gt; file as a base for:&lt;/p&gt;
&lt;div class=&quot;language-yaml highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Build and deploy Jekyll site to GitHub Pages&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;branches&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;main&lt;/span&gt;

&lt;span class=&quot;na&quot;&gt;jobs&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;na&quot;&gt;publish-to-medium&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ubuntu-latest&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;actions/checkout@v2&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Set crosspost_to_medium in all .markdown to &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;true&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;|&lt;/span&gt;
          &lt;span class=&quot;s&quot;&gt;sed -i 's/crosspost_to_medium: $PLACEHOLDER/crosspost_to_medium: true/g' _posts/*.markdown&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;stefanzweifel/git-auto-commit-action@v4&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;commit_message&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;Apply IS_CROSSPOST to True&lt;/span&gt;

  &lt;span class=&quot;na&quot;&gt;github-pages&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;needs&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;publish-to-medium&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;runs-on&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;ubuntu-latest&lt;/span&gt;
    &lt;span class=&quot;na&quot;&gt;steps&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;actions/checkout@v2&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;actions/cache@v2&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;vendor/bundle&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;$-gems-$&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;restore-keys&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;pi&quot;&gt;|&lt;/span&gt;
            &lt;span class=&quot;s&quot;&gt;$-gems-&lt;/span&gt;
      &lt;span class=&quot;pi&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;uses&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;helaili/jekyll-action@v2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# this handles the build and deploy&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;with&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;$&lt;/span&gt;
        &lt;span class=&quot;na&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;MEDIUM_INTEGRATION_TOKEN&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;$&lt;/span&gt;
          &lt;span class=&quot;na&quot;&gt;MEDIUM_USER_ID&lt;/span&gt;&lt;span class=&quot;pi&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;$&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;As shown in the code block above, an extra job replaces the placeholder value in the &lt;em&gt;.markdown&lt;/em&gt; files to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crosspost_to_medium: true&lt;/code&gt;. We use an action created by &lt;em&gt;stefanzweifel&lt;/em&gt; to commit the changes we make to the files. After this initial job the Jekyll site will be built and deployed with the &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;github-pages&lt;/code&gt; job. An extra line (&lt;em&gt;i.e.&lt;/em&gt; &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;env:&lt;/code&gt;) is added to set the environment variables that are needed for the crosspost plugin.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;&lt;strong&gt;N.B.&lt;/strong&gt; You can just set the front matter variable to &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;crosspost_to_medium: true&lt;/code&gt; and then serve your Jekyll site - so that it will publish your posts to Medium at once. But, making it part of the workflow process will give you more control over when to publish to Medium. You can for example also choose to publish when you create a release.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;conclusion&quot;&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;That’s it! You’re all set. Meaning, after a pull request gets merged in your GitHub repository - that holds your Jekyll site, a crosspost to Medium will be triggered by the actions that were added to the GitHub workflow. This post was created using this setup, you can find the source code &lt;a href=&quot;https://github.com/selaianwary/selaianwary.github.io&quot;&gt;here&lt;/a&gt;. I look forward to your feedback!&lt;/p&gt;</content><author><name></name></author><category term="guide" /><category term="medium" /><summary type="html">Guide - Using Plain Text, Git and Automation to Publish Medium Stories Dear reader, welcome to my first guide. Recently I started looking for a new way of learning. That’s how I ended up at Medium, but now as a writer. In the past I have often used the platform as a reference book for learning. I’ve decided to take it to another level and challenge myself as a writer, as I hope to contribute to the community by writing and to also learn more about the topics covered.</summary></entry></feed>